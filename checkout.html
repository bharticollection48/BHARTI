<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>GHABA | Luxury Bharti collections</title>
    <meta name="description" content="Experience the pinnacle of luxury with GHABA. Authentic jewelry, apparel, and premium collections.">

    <link rel="icon" type="image/png" href="https://cdn.dribbble.com/userupload/17039932/file/original-983633d1f6de58f5d871f174ff34f057.jpg?resize=400x0">
    <link rel="apple-touch-icon" href="https://cdn.dribbble.com/userupload/17039932/file/original-983633d1f6de58f5d871f174ff34f057.jpg?resize=400x0">

    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;600&family=Playfair+Display:ital@1&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <link rel="stylesheet" href="style2.css">
    <link rel="stylesheet" href="ghaba-style.css">
</head>
<body>

<div class="checkout-container">
    <div class="product-preview" id="prod-summary">
        </div>

    <div class="form-area">
        <h2>Secure Checkout</h2>
        
        <div class="input-group">
            <label>Full Name</label>
            <input type="text" id="u_name" placeholder="Enter your full name">
        </div>

        <div class="input-group">
            <label>WhatsApp Number</label>
            <input type="number" id="u_phone" placeholder="Contact number">
        </div>

        <div class="row">
            <div class="input-group">
                <label>City / District</label>
                <input type="text" id="u_city" placeholder="Your City">
            </div>
            <div class="input-group">
                <label>Pincode</label>
                <input type="number" id="u_pin" placeholder="6-digit">
            </div>
        </div>

        <div class="input-group">
            <label>Detailed Address</label>
            <textarea id="u_addr" rows="3" placeholder="House No, Street, Landmark..."></textarea>
        </div>

        <button onclick="handleFinalOrder()" class="submit-btn">
            CONFIRM ON WHATSAPP 
            <svg width="18" height="18" viewBox="0 0 24 24"><path d="M12.031 6.172c-3.181 0-5.767 2.586-5.768 5.766-.001 1.298.38 2.27 1.019 3.287l-.582 2.128 2.19-.573c.978.58 1.911.928 3.145.929 3.178 0 5.767-2.587 5.768-5.766 0-3.18-2.587-5.771-5.772-5.771zm3.374 8.204c-.161.451-.747.852-1.201.944-.303.061-.697.108-1.748-.33-1.341-.56-2.195-1.924-2.261-2.012-.066-.088-.533-.709-.533-1.352s.334-.959.454-1.09c.12-.132.261-.165.348-.165.087 0 .174.001.249.005.081.004.19-.031.298.228.112.268.383.932.417 1.001.033.069.056.149.011.239-.045.09-.067.146-.134.225-.067.078-.14.174-.2.234-.067.067-.138.141-.06.275.078.133.346.57.742.923.51.455.94.596 1.074.663.133.066.21.055.288-.034.078-.089.333-.388.422-.52.09-.131.179-.111.302-.066.124.045.786.371.921.439.135.067.225.1.258.157.033.058.033.334-.128.785z"/></svg>
        </button>
    </div>
</div>

<script>
    const savedData = localStorage.getItem('ghaba_order');
    const item = savedData ? JSON.parse(savedData) : null;

    if(!item) {
        document.body.innerHTML = `
            <div style="text-align:center; padding:100px;">
                <h2 style="color:#d4af37; font-family:'Playfair Display', serif;">Access Denied</h2>
                <p>Please select a product first.</p>
                <a href="index.html" style="color:#1a1a1a; font-weight:bold; text-decoration:none; border-bottom:1px solid">Back to Gallery</a>
            </div>`;
    } else {
        document.getElementById('prod-summary').innerHTML = `
            <img src="${item.img}" onerror="this.src='https://via.placeholder.com/400x500?text=GHABA+Luxury'">
            <div class="free-delivery-tag">FREE EXPRESS DELIVERY</div>
            <h3 class="product-name">${item.name}</h3>
            <p class="product-price">‚Çπ${Number(item.price).toLocaleString('en-IN')}</p>
        `;
    }

    function handleFinalOrder() {
        const uName = document.getElementById('u_name').value.trim();
        const uPhone = document.getElementById('u_phone').value.trim();
        const uCity = document.getElementById('u_city').value.trim();
        const uPin = document.getElementById('u_pin').value.trim();
        const uAddr = document.getElementById('u_addr').value.trim();

        if(!uName || !uPhone || !uAddr) { 
            alert("Kripya apna naam, number aur pura pata bharein!"); 
            return; 
        }

        const message = `*NEW ORDER - GHABA LUXURY*%0A%0A` +
                        `üì¶ *Product:* ${item.name}%0A` +
                        `üí∞ *Price:* ‚Çπ${Number(item.price).toLocaleString('en-IN')}%0A%0A` +
                        `*--- CUSTOMER DETAILS ---*%0A` +
                        `üë§ *Name:* ${uName}%0A` +
                        `üì± *Phone:* ${uPhone}%0A` +
                        `üìç *City:* ${uCity}%0A` +
                        `üìå *PIN:* ${uPin}%0A` +
                        `üè† *Address:* ${uAddr}%0A%0A` +
                        `üîó *Product Link:* ${item.loc}`;

        const waNumber = "919660759952"; 
        const waUrl = `https://api.whatsapp.com/send?phone=${waNumber}&text=${encodeURIComponent(message.replace(/%0A/g, '\n'))}`;
        
        window.open(waUrl, '_blank');
    }
</script>
</body>
</html>